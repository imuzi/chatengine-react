{"ast":null,"code":"import _classCallCheck from \"/Users/wubenqi/nebula-chat/telegram-react/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/wubenqi/nebula-chat/telegram-react/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/wubenqi/nebula-chat/telegram-react/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/wubenqi/nebula-chat/telegram-react/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/wubenqi/nebula-chat/telegram-react/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\n\n/*\n *  Copyright (c) 2018-present, Evgeny Nadymov\n *\n * This source code is licensed under the GPL v.3.0 license found in the\n * LICENSE file in the root directory of this source tree.\n */\nimport React from 'react';\nimport { getDurationString } from '../../Utils/Common';\nimport PlayerStore from '../../Stores/PlayerStore';\n\nvar Time =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(Time, _React$Component);\n\n  function Time(props) {\n    var _this;\n\n    _classCallCheck(this, Time);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Time).call(this, props));\n\n    _this.onClientUpdateMediaTime = function (update) {\n      var currentTime = update.currentTime;\n\n      _this.setState({\n        currentTime: currentTime,\n        currentTimeString: getDurationString(Math.floor(currentTime || 0))\n      });\n    };\n\n    _this.getTimeString = function (currentTime, duration) {\n      var type = 0;\n      var durationString = getDurationString(Math.floor(duration || 0));\n      var currentTimeString = getDurationString(Math.floor(currentTime || 0)); //return type === 0 ? `${currentTimeString}/${durationString}` : `${durationString}`;\n\n      return currentTimeString;\n    };\n\n    _this.state = {\n      currentTime: 0,\n      duration: 0,\n      timeString: _this.getTimeString(0, 0)\n    };\n    return _this;\n  }\n\n  _createClass(Time, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      PlayerStore.on('clientUpdateMediaTime', this.onClientUpdateMediaTime);\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      PlayerStore.off('clientUpdateMediaTime', this.onClientUpdateMediaTime);\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var currentTimeString = this.state.currentTimeString;\n      return React.createElement(React.Fragment, null, currentTimeString);\n    }\n  }]);\n\n  return Time;\n}(React.Component);\n\nexport default Time;","map":{"version":3,"sources":["/Users/wubenqi/nebula-chat/telegram-react/src/Components/Player/Time.js"],"names":["React","getDurationString","PlayerStore","Time","props","onClientUpdateMediaTime","update","currentTime","setState","currentTimeString","Math","floor","getTimeString","duration","type","durationString","state","timeString","on","off","Component"],"mappings":";;;;;;AAAA;;;;;;AAOA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAASC,iBAAT,QAAkC,oBAAlC;AACA,OAAOC,WAAP,MAAwB,0BAAxB;;IAEMC,I;;;;;AACF,gBAAYC,KAAZ,EAAmB;AAAA;;AAAA;;AACf,8EAAMA,KAAN;;AADe,UAkBnBC,uBAlBmB,GAkBO,UAAAC,MAAM,EAAI;AAAA,UACxBC,WADwB,GACRD,MADQ,CACxBC,WADwB;;AAGhC,YAAKC,QAAL,CAAc;AACVD,QAAAA,WAAW,EAAEA,WADH;AAEVE,QAAAA,iBAAiB,EAAER,iBAAiB,CAACS,IAAI,CAACC,KAAL,CAAWJ,WAAW,IAAI,CAA1B,CAAD;AAF1B,OAAd;AAIH,KAzBkB;;AAAA,UA2BnBK,aA3BmB,GA2BH,UAACL,WAAD,EAAcM,QAAd,EAA2B;AACvC,UAAMC,IAAI,GAAG,CAAb;AAEA,UAAMC,cAAc,GAAGd,iBAAiB,CAACS,IAAI,CAACC,KAAL,CAAWE,QAAQ,IAAI,CAAvB,CAAD,CAAxC;AACA,UAAMJ,iBAAiB,GAAGR,iBAAiB,CAACS,IAAI,CAACC,KAAL,CAAWJ,WAAW,IAAI,CAA1B,CAAD,CAA3C,CAJuC,CAMvC;;AAEA,aAAOE,iBAAP;AACH,KApCkB;;AAGf,UAAKO,KAAL,GAAa;AACTT,MAAAA,WAAW,EAAE,CADJ;AAETM,MAAAA,QAAQ,EAAE,CAFD;AAGTI,MAAAA,UAAU,EAAE,MAAKL,aAAL,CAAmB,CAAnB,EAAsB,CAAtB;AAHH,KAAb;AAHe;AAQlB;;;;wCAEmB;AAChBV,MAAAA,WAAW,CAACgB,EAAZ,CAAe,uBAAf,EAAwC,KAAKb,uBAA7C;AACH;;;2CAEsB;AACnBH,MAAAA,WAAW,CAACiB,GAAZ,CAAgB,uBAAhB,EAAyC,KAAKd,uBAA9C;AACH;;;6BAsBQ;AAAA,UACGI,iBADH,GACyB,KAAKO,KAD9B,CACGP,iBADH;AAGL,aAAO,0CAAGA,iBAAH,CAAP;AACH;;;;EA3CcT,KAAK,CAACoB,S;;AA8CzB,eAAejB,IAAf","sourcesContent":["/*\n *  Copyright (c) 2018-present, Evgeny Nadymov\n *\n * This source code is licensed under the GPL v.3.0 license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\nimport React from 'react';\nimport { getDurationString } from '../../Utils/Common';\nimport PlayerStore from '../../Stores/PlayerStore';\n\nclass Time extends React.Component {\n    constructor(props) {\n        super(props);\n\n        this.state = {\n            currentTime: 0,\n            duration: 0,\n            timeString: this.getTimeString(0, 0)\n        };\n    }\n\n    componentDidMount() {\n        PlayerStore.on('clientUpdateMediaTime', this.onClientUpdateMediaTime);\n    }\n\n    componentWillUnmount() {\n        PlayerStore.off('clientUpdateMediaTime', this.onClientUpdateMediaTime);\n    }\n\n    onClientUpdateMediaTime = update => {\n        const { currentTime } = update;\n\n        this.setState({\n            currentTime: currentTime,\n            currentTimeString: getDurationString(Math.floor(currentTime || 0))\n        });\n    };\n\n    getTimeString = (currentTime, duration) => {\n        const type = 0;\n\n        const durationString = getDurationString(Math.floor(duration || 0));\n        const currentTimeString = getDurationString(Math.floor(currentTime || 0));\n\n        //return type === 0 ? `${currentTimeString}/${durationString}` : `${durationString}`;\n\n        return currentTimeString;\n    };\n\n    render() {\n        const { currentTimeString } = this.state;\n\n        return <>{currentTimeString}</>;\n    }\n}\n\nexport default Time;\n"]},"metadata":{},"sourceType":"module"}