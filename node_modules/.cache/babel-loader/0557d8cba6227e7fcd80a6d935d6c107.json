{"ast":null,"code":"/*\n *  Copyright (c) 2018-present, Evgeny Nadymov\n *\n * This source code is licensed under the GPL v.3.0 license found in the\n * LICENSE file in the root directory of this source tree.\n */\nimport SupergroupStore from '../Stores/SupergroupStore';\nimport ChatStore from '../Stores/ChatStore';\nexport function getChannelStatus(supergroup, chatId) {\n  if (!supergroup) return '';\n  var status = supergroup.status,\n      is_channel = supergroup.is_channel,\n      count = supergroup.member_count;\n  if (!is_channel) return '';\n\n  if (status && status['@type'] === 'chatMemberStatusBanned') {\n    return 'channel is inaccessible';\n  }\n\n  if (!count) {\n    var fullInfo = SupergroupStore.getFullInfo(supergroup.id);\n\n    if (fullInfo) {\n      count = fullInfo.member_count;\n    }\n  }\n\n  if (!count) return '0 subscribers';\n  if (count === 1) return '1 subscriber';\n  var onlineCount = ChatStore.getOnlineMemberCount(chatId);\n\n  if (onlineCount > 1) {\n    return \"\".concat(count, \" subscribers, \").concat(onlineCount, \" online\");\n  }\n\n  return \"\".concat(count, \" subscribers\");\n}","map":{"version":3,"sources":["/Users/wubenqi/nebula-chat/telegram-react/src/Utils/Channel.js"],"names":["SupergroupStore","ChatStore","getChannelStatus","supergroup","chatId","status","is_channel","count","member_count","fullInfo","getFullInfo","id","onlineCount","getOnlineMemberCount"],"mappings":"AAAA;;;;;;AAOA,OAAOA,eAAP,MAA4B,2BAA5B;AACA,OAAOC,SAAP,MAAsB,qBAAtB;AAEA,OAAO,SAASC,gBAAT,CAA0BC,UAA1B,EAAsCC,MAAtC,EAA8C;AACjD,MAAI,CAACD,UAAL,EAAiB,OAAO,EAAP;AADgC,MAG3CE,MAH2C,GAGCF,UAHD,CAG3CE,MAH2C;AAAA,MAGnCC,UAHmC,GAGCH,UAHD,CAGnCG,UAHmC;AAAA,MAGTC,KAHS,GAGCJ,UAHD,CAGvBK,YAHuB;AAIjD,MAAI,CAACF,UAAL,EAAiB,OAAO,EAAP;;AAEjB,MAAID,MAAM,IAAIA,MAAM,CAAC,OAAD,CAAN,KAAoB,wBAAlC,EAA4D;AACxD,WAAO,yBAAP;AACH;;AAED,MAAI,CAACE,KAAL,EAAY;AACR,QAAME,QAAQ,GAAGT,eAAe,CAACU,WAAhB,CAA4BP,UAAU,CAACQ,EAAvC,CAAjB;;AACA,QAAIF,QAAJ,EAAc;AACVF,MAAAA,KAAK,GAAGE,QAAQ,CAACD,YAAjB;AACH;AACJ;;AAED,MAAI,CAACD,KAAL,EAAY,OAAO,eAAP;AACZ,MAAIA,KAAK,KAAK,CAAd,EAAiB,OAAO,cAAP;AAEjB,MAAMK,WAAW,GAAGX,SAAS,CAACY,oBAAV,CAA+BT,MAA/B,CAApB;;AACA,MAAIQ,WAAW,GAAG,CAAlB,EAAqB;AACjB,qBAAUL,KAAV,2BAAgCK,WAAhC;AACH;;AAED,mBAAUL,KAAV;AACH","sourcesContent":["/*\n *  Copyright (c) 2018-present, Evgeny Nadymov\n *\n * This source code is licensed under the GPL v.3.0 license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\nimport SupergroupStore from '../Stores/SupergroupStore';\nimport ChatStore from '../Stores/ChatStore';\n\nexport function getChannelStatus(supergroup, chatId) {\n    if (!supergroup) return '';\n\n    let { status, is_channel, member_count: count } = supergroup;\n    if (!is_channel) return '';\n\n    if (status && status['@type'] === 'chatMemberStatusBanned') {\n        return 'channel is inaccessible';\n    }\n\n    if (!count) {\n        const fullInfo = SupergroupStore.getFullInfo(supergroup.id);\n        if (fullInfo) {\n            count = fullInfo.member_count;\n        }\n    }\n\n    if (!count) return '0 subscribers';\n    if (count === 1) return '1 subscriber';\n\n    const onlineCount = ChatStore.getOnlineMemberCount(chatId);\n    if (onlineCount > 1) {\n        return `${count} subscribers, ${onlineCount} online`;\n    }\n\n    return `${count} subscribers`;\n}\n"]},"metadata":{},"sourceType":"module"}