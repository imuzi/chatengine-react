{"ast":null,"code":"import _toConsumableArray from \"/Users/wubenqi/nebula-chat/telegram-react/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";\nvar _jsxFileName = \"/Users/wubenqi/nebula-chat/telegram-react/src/Utils/InstantView.js\";\n\n/*\n *  Copyright (c) 2018-present, Evgeny Nadymov\n *\n * This source code is licensed under the GPL v.3.0 license found in the\n * LICENSE file in the root directory of this source tree.\n */\nimport React from 'react';\nimport Anchor from '../Components/InstantView/Blocks/Anchor';\nimport Animation from '../Components/InstantView/Blocks/Animation';\nimport AuthorDate from '../Components/InstantView/Blocks/AuthorDate';\nimport BlockQuote from '../Components/InstantView/Blocks/Blockquote';\nimport Collage from '../Components/InstantView/Blocks/Collage';\nimport Cover from '../Components/InstantView/Blocks/Cover';\nimport Details from '../Components/InstantView/Blocks/Details';\nimport Divider from '../Components/InstantView/Blocks/Divider';\nimport Embedded from '../Components/InstantView/Blocks/Embedded';\nimport EmbeddedPost from '../Components/InstantView/Blocks/EmbeddedPost';\nimport ErrorHandler from '../Components/InstantView/Blocks/ErrorHandler';\nimport Footer from '../Components/InstantView/Blocks/Footer';\nimport Header from '../Components/InstantView/Blocks/Header';\nimport Kicker from '../Components/InstantView/Blocks/Kicker';\nimport List from '../Components/InstantView/Blocks/List';\nimport ListItem from '../Components/InstantView/Blocks/ListItem';\nimport Paragraph from '../Components/InstantView/Blocks/Paragraph';\nimport Photo from '../Components/InstantView/Blocks/Photo';\nimport Preformatted from '../Components/InstantView/Blocks/Preformatted';\nimport PullQuote from '../Components/InstantView/Blocks/PullQuote';\nimport RelatedArticle from '../Components/InstantView/Blocks/RelatedArticle';\nimport RelatedArticles from '../Components/InstantView/Blocks/RelatedArticles';\nimport Slideshow from '../Components/InstantView/Blocks/Slideshow';\nimport Subheader from '../Components/InstantView/Blocks/Subheader';\nimport Subtitle from '../Components/InstantView/Blocks/Subtitle';\nimport Title from '../Components/InstantView/Blocks/Title';\nimport Bold from '../Components/InstantView/RichText/Bold';\nimport EmailAddress from '../Components/InstantView/RichText/EmailAddress';\nimport Fixed from '../Components/InstantView/RichText/Fixed';\nimport Icon from '../Components/InstantView/RichText/Icon';\nimport Italic from '../Components/InstantView/RichText/Italic';\nimport Marked from '../Components/InstantView/RichText/Marked';\nimport PhoneNumber from '../Components/InstantView/RichText/PhoneNumber';\nimport Plain from '../Components/InstantView/RichText/Plain';\nimport Strikethrough from '../Components/InstantView/RichText/Strikethrough';\nimport Subscript from '../Components/InstantView/RichText/Subscript';\nimport Superscript from '../Components/InstantView/RichText/Superscript';\nimport TextAnchor from '../Components/InstantView/RichText/Anchor';\nimport Texts from '../Components/InstantView/RichText/Texts';\nimport Underline from '../Components/InstantView/RichText/Underline';\nimport Url from '../Components/InstantView/RichText/Url';\nimport Table from '../Components/InstantView/Blocks/Table';\nimport TableCell from '../Components/InstantView/Blocks/TableCell';\nimport Map from '../Components/InstantView/Blocks/Map';\nimport Audio from '../Components/InstantView/Blocks/Audio';\nimport ChatLink from '../Components/InstantView/Blocks/ChatLink';\nimport Video from '../Components/InstantView/Blocks/Video';\nimport { download } from './File';\nimport { setInstantViewViewerContent } from '../Actions/Client';\nimport FileStore from '../Stores/FileStore';\nimport TdLibController from '../Controllers/TdLibController';\nexport function openInstantViewMedia(media, caption, block, instantView, fileCancel) {\n  // console.log('[IV] openIVMedia', media);\n  if (!media) return;\n  var chatId = 0;\n  var messageId = 0;\n\n  switch (media['@type']) {\n    case 'animation':\n      {\n        var file = media.animation;\n        if (!file) return;\n        file = FileStore.get(file.id) || file;\n\n        if (fileCancel && file.local.is_downloading_active) {\n          FileStore.cancelGetRemoteFile(file.id, media);\n          return;\n        } else if (fileCancel && file.remote.is_uploading_active) {\n          FileStore.cancelUploadFile(file.id, media);\n          return;\n        } else {\n          download(file, media, FileStore.updateAnimationBlob(chatId, messageId, file.id));\n        }\n\n        setInstantViewViewerContent({\n          media: media,\n          caption: caption,\n          block: block,\n          instantView: instantView\n        });\n        break;\n      }\n\n    case 'audio':\n      {\n        var _file = media.audio;\n        if (!_file) return;\n        _file = FileStore.get(_file.id) || _file;\n\n        if (fileCancel && _file.local.is_downloading_active) {\n          FileStore.cancelGetRemoteFile(_file.id, media);\n          return;\n        } else if (fileCancel && _file.remote.is_uploading_active) {\n          FileStore.cancelUploadFile(_file.id, media);\n          return;\n        } else {\n          download(_file, media, FileStore.updateAudioBlob(chatId, messageId, _file.id));\n        }\n\n        TdLibController.clientUpdate({\n          '@type': 'clientUpdateMediaActive',\n          instantView: instantView,\n          block: block\n        });\n        break;\n      }\n\n    case 'photo':\n      {\n        setInstantViewViewerContent({\n          media: media,\n          caption: caption,\n          block: block,\n          instantView: instantView\n        });\n        break;\n      }\n\n    case 'video':\n      {\n        var _file2 = media.video;\n        if (!_file2) return;\n        _file2 = FileStore.get(_file2.id) || _file2;\n\n        if (fileCancel && _file2.local.is_downloading_active) {\n          FileStore.cancelGetRemoteFile(_file2.id, media);\n          return;\n        } else if (fileCancel && _file2.remote.is_uploading_active) {\n          FileStore.cancelUploadFile(_file2.id, media);\n          return;\n        } else {\n          download(_file2, media, FileStore.updateVideoBlob(chatId, messageId, _file2.id));\n        }\n\n        setInstantViewViewerContent({\n          media: media,\n          caption: caption,\n          block: block,\n          instantView: instantView\n        });\n        break;\n      }\n  }\n}\nexport function getPageBlock(block, iv) {\n  var key = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : undefined;\n  if (!block) return null;\n  var element = null;\n\n  switch (block['@type']) {\n    case 'pageBlockAnchor':\n      {\n        element = React.createElement(Anchor, {\n          name: block.name,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 156\n          },\n          __self: this\n        });\n        break;\n      }\n\n    case 'pageBlockAnimation':\n      {\n        element = React.createElement(Animation, {\n          block: block,\n          caption: block.caption,\n          animation: block.animation,\n          needAutoplay: block.need_autoplay,\n          openMedia: function openMedia() {\n            return openInstantViewMedia(block.animation, block.caption, block, iv, true);\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 161\n          },\n          __self: this\n        });\n        break;\n      }\n\n    case 'pageBlockAudio':\n      {\n        element = React.createElement(Audio, {\n          caption: block.caption,\n          audio: block.audio,\n          openMedia: function openMedia() {\n            return openInstantViewMedia(block.audio, block.caption, block, iv, true);\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 173\n          },\n          __self: this\n        });\n        break;\n      }\n\n    case 'pageBlockAuthorDate':\n      {\n        element = React.createElement(AuthorDate, {\n          author: block.author,\n          publishDate: block.publish_date,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 182\n          },\n          __self: this\n        });\n        break;\n      }\n\n    case 'pageBlockBlockQuote':\n      {\n        element = React.createElement(BlockQuote, {\n          credit: block.credit,\n          text: block.text,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 186\n          },\n          __self: this\n        });\n        break;\n      }\n\n    case 'pageBlockCollage':\n      {\n        element = React.createElement(Collage, {\n          pageBlocks: block.page_blocks,\n          caption: block.caption,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 190\n          },\n          __self: this\n        });\n        break;\n      }\n\n    case 'pageBlockChatLink':\n      {\n        element = React.createElement(ChatLink, {\n          title: block.title,\n          photo: block.photo,\n          username: block.username,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 194\n          },\n          __self: this\n        });\n        break;\n      }\n\n    case 'pageBlockCover':\n      {\n        element = React.createElement(Cover, {\n          cover: block.cover,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 198\n          },\n          __self: this\n        });\n        break;\n      }\n\n    case 'pageBlockDetails':\n      {\n        element = React.createElement(Details, {\n          header: block.header,\n          pageBlocks: block.page_blocks,\n          isOpen: block.is_open,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 202\n          },\n          __self: this\n        });\n        break;\n      }\n\n    case 'pageBlockDivider':\n      {\n        element = React.createElement(Divider, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 206\n          },\n          __self: this\n        });\n        break;\n      }\n\n    case 'pageBlockEmbedded':\n      {\n        element = React.createElement(Embedded, {\n          url: block.url,\n          html: block.html,\n          posterPhoto: block.poster_photo,\n          width: block.width,\n          height: block.height,\n          caption: block.caption,\n          isFullWidth: block.is_full_width,\n          allowScrolling: block.allow_scrolling,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 211\n          },\n          __self: this\n        });\n        break;\n      }\n\n    case 'pageBlockEmbeddedPost':\n      {\n        element = React.createElement(EmbeddedPost, {\n          url: block.url,\n          author: block.author,\n          authorPhoto: block.author_photo,\n          date: block.date,\n          pageBlocks: block.page_blocks,\n          caption: block.caption,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 226\n          },\n          __self: this\n        });\n        break;\n      }\n\n    case 'pageBlockFooter':\n      {\n        element = React.createElement(Footer, {\n          footer: block.footer,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 238\n          },\n          __self: this\n        });\n        break;\n      }\n\n    case 'pageBlockHeader':\n      {\n        element = React.createElement(Header, {\n          header: block.header,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 242\n          },\n          __self: this\n        });\n        break;\n      }\n\n    case 'pageBlockKicker':\n      {\n        element = React.createElement(Kicker, {\n          kicker: block.kicker,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 246\n          },\n          __self: this\n        });\n        break;\n      }\n\n    case 'pageBlockList':\n      {\n        element = React.createElement(List, {\n          items: block.items,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 250\n          },\n          __self: this\n        });\n        break;\n      }\n\n    case 'pageBlockListItem':\n      {\n        element = React.createElement(ListItem, {\n          label: block.label,\n          pageBlocks: block.page_blocks,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 254\n          },\n          __self: this\n        });\n        break;\n      }\n\n    case 'pageBlockMap':\n      {\n        element = React.createElement(Map, {\n          location: block.location,\n          zoom: block.zoom,\n          width: block.width,\n          height: block.height,\n          caption: block.caption,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 259\n          },\n          __self: this\n        });\n        break;\n      }\n\n    case 'pageBlockParagraph':\n      {\n        element = React.createElement(Paragraph, {\n          text: block.text,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 270\n          },\n          __self: this\n        });\n        break;\n      }\n\n    case 'pageBlockPhoto':\n      {\n        element = React.createElement(Photo, {\n          caption: block.caption,\n          photo: block.photo,\n          url: block.url,\n          openMedia: function openMedia() {\n            return openInstantViewMedia(block.photo, block.caption, block, iv, true);\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 275\n          },\n          __self: this\n        });\n        break;\n      }\n\n    case 'pageBlockPreformatted':\n      {\n        element = React.createElement(Preformatted, {\n          text: block.text,\n          language: block.language,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 285\n          },\n          __self: this\n        });\n        break;\n      }\n\n    case 'pageBlockPullQuote':\n      {\n        element = React.createElement(PullQuote, {\n          credit: block.credit,\n          text: block.text,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 289\n          },\n          __self: this\n        });\n        break;\n      }\n\n    case 'pageBlockRelatedArticle':\n      {\n        element = React.createElement(RelatedArticle, {\n          url: block.url,\n          title: block.title,\n          description: block.description,\n          photo: block.photo,\n          author: block.author,\n          publishDate: block.publish_date,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 294\n          },\n          __self: this\n        });\n        break;\n      }\n\n    case 'pageBlockRelatedArticles':\n      {\n        element = React.createElement(RelatedArticles, {\n          header: block.header,\n          articles: block.articles,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 306\n          },\n          __self: this\n        });\n        break;\n      }\n\n    case 'pageBlockSlideshow':\n      {\n        element = React.createElement(Slideshow, {\n          pageBlocks: block.page_blocks,\n          caption: block.caption,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 310\n          },\n          __self: this\n        });\n        break;\n      }\n\n    case 'pageBlockSubheader':\n      {\n        element = React.createElement(Subheader, {\n          subheader: block.subheader,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 314\n          },\n          __self: this\n        });\n        break;\n      }\n\n    case 'pageBlockSubtitle':\n      {\n        element = React.createElement(Subtitle, {\n          subtitle: block.subtitle,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 318\n          },\n          __self: this\n        });\n        break;\n      }\n\n    case 'pageBlockTable':\n      {\n        element = React.createElement(Table, {\n          caption: block.caption,\n          cells: block.cells,\n          isBordered: block.is_bordered,\n          isStriped: block.is_striped,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 323\n          },\n          __self: this\n        });\n        break;\n      }\n\n    case 'pageBlockTableCell':\n      {\n        element = React.createElement(TableCell, {\n          text: block.text,\n          isHeader: block.is_header,\n          colspan: block.colspan,\n          rowspan: block.rowspan,\n          align: block.align,\n          valign: block.valign,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 334\n          },\n          __self: this\n        });\n        break;\n      }\n\n    case 'pageBlockTitle':\n      {\n        element = React.createElement(Title, {\n          title: block.title,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 346\n          },\n          __self: this\n        });\n        break;\n      }\n\n    case 'pageBlockVideo':\n      {\n        element = React.createElement(Video, {\n          caption: block.caption,\n          video: block.video,\n          needAutoplay: block.need_autoplay,\n          isLooped: block.is_looped,\n          openMedia: function openMedia() {\n            return openInstantViewMedia(block.video, block.caption, block, iv, true);\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 351\n          },\n          __self: this\n        });\n        break;\n      }\n  }\n\n  if (element) {\n    return React.createElement(ErrorHandler, {\n      key: key,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 364\n      },\n      __self: this\n    }, element);\n  }\n\n  return React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 367\n    },\n    __self: this\n  }, \"[\".concat(block['@type'], \"]\"));\n}\nexport function getRichText(richText) {\n  if (!richText) {\n    return null;\n  }\n\n  if (richText instanceof String) {\n    return richText;\n  }\n\n  switch (richText['@type']) {\n    case 'richTextAnchor':\n      {\n        var name = richText.name,\n            text = richText.text;\n        return React.createElement(TextAnchor, {\n          text: text,\n          name: name,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 383\n          },\n          __self: this\n        });\n      }\n\n    case 'richTextBold':\n      {\n        var _text = richText.text;\n        return React.createElement(Bold, {\n          text: _text,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 388\n          },\n          __self: this\n        });\n      }\n\n    case 'richTextEmailAddress':\n      {\n        var email_address = richText.email_address,\n            _text2 = richText.text;\n        return React.createElement(EmailAddress, {\n          emailAddress: email_address,\n          text: _text2,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 393\n          },\n          __self: this\n        });\n      }\n\n    case 'richTextFixed':\n      {\n        var _text3 = richText.text;\n        return React.createElement(Fixed, {\n          text: _text3,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 398\n          },\n          __self: this\n        });\n      }\n\n    case 'richTextIcon':\n      {\n        var document = richText.document,\n            height = richText.height,\n            width = richText.width;\n        return React.createElement(Icon, {\n          document: document,\n          height: height,\n          width: width,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 403\n          },\n          __self: this\n        });\n      }\n\n    case 'richTextItalic':\n      {\n        var _text4 = richText.text;\n        return React.createElement(Italic, {\n          text: _text4,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 408\n          },\n          __self: this\n        });\n      }\n\n    case 'richTextMarked':\n      {\n        var _text5 = richText.text;\n        return React.createElement(Marked, {\n          text: _text5,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 413\n          },\n          __self: this\n        });\n      }\n\n    case 'richTextPhoneNumber':\n      {\n        var phone_number = richText.phone_number,\n            _text6 = richText.text;\n        return React.createElement(PhoneNumber, {\n          phoneNumber: phone_number,\n          text: _text6,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 418\n          },\n          __self: this\n        });\n      }\n\n    case 'richTextPlain':\n      {\n        var _text7 = richText.text;\n        return React.createElement(Plain, {\n          text: _text7,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 423\n          },\n          __self: this\n        });\n      }\n\n    case 'richTextStrikethrough':\n      {\n        var _text8 = richText.text;\n        return React.createElement(Strikethrough, {\n          text: _text8,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 428\n          },\n          __self: this\n        });\n      }\n\n    case 'richTextSubscript':\n      {\n        var _text9 = richText.text;\n        return React.createElement(Subscript, {\n          text: _text9,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 433\n          },\n          __self: this\n        });\n      }\n\n    case 'richTextSuperscript':\n      {\n        var _text10 = richText.text;\n        return React.createElement(Superscript, {\n          text: _text10,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 438\n          },\n          __self: this\n        });\n      }\n\n    case 'richTexts':\n      {\n        var texts = richText.texts;\n        return React.createElement(Texts, {\n          texts: texts,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 443\n          },\n          __self: this\n        });\n      }\n\n    case 'richTextUnderline':\n      {\n        var _text11 = richText.text;\n        return React.createElement(Underline, {\n          text: _text11,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 448\n          },\n          __self: this\n        });\n      }\n\n    case 'richTextUrl':\n      {\n        var _text12 = richText.text,\n            url = richText.url;\n        return React.createElement(Url, {\n          text: _text12,\n          url: url,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 453\n          },\n          __self: this\n        });\n      }\n  }\n\n  return \"[\".concat(richText['@type'], \"]\");\n}\nexport function isEmptyText(richText) {\n  if (!richText) return true;\n\n  switch (richText['@type']) {\n    case 'richTextAnchor':\n      {\n        var text = richText.text;\n        return isEmptyText(text);\n      }\n\n    case 'richTextBold':\n      {\n        var _text13 = richText.text;\n        return isEmptyText(_text13);\n      }\n\n    case 'richTextEmailAddress':\n      {\n        var _text14 = richText.text;\n        return isEmptyText(_text14);\n      }\n\n    case 'richTextFixed':\n      {\n        var _text15 = richText.text;\n        return isEmptyText(_text15);\n      }\n\n    case 'richTextIcon':\n      {\n        return false;\n      }\n\n    case 'richTextItalic':\n      {\n        var _text16 = richText.text;\n        return isEmptyText(_text16);\n      }\n\n    case 'richTextMarked':\n      {\n        var _text17 = richText.text;\n        return isEmptyText(_text17);\n      }\n\n    case 'richTextPhoneNumber':\n      {\n        var _text18 = richText.text;\n        return isEmptyText(_text18);\n      }\n\n    case 'richTextPlain':\n      {\n        var _text19 = richText.text;\n        return isEmptyText(_text19);\n      }\n\n    case 'richTextStrikethrough':\n      {\n        var _text20 = richText.text;\n        return isEmptyText(_text20);\n      }\n\n    case 'richTextSubscript':\n      {\n        var _text21 = richText.text;\n        return isEmptyText(_text21);\n      }\n\n    case 'richTextSuperscript':\n      {\n        var _text22 = richText.text;\n        return isEmptyText(_text22);\n      }\n\n    case 'richTexts':\n      {\n        var texts = richText.texts;\n        return texts.every(isEmptyText);\n      }\n\n    case 'richTextUnderline':\n      {\n        var _text23 = richText.text;\n        return isEmptyText(_text23);\n      }\n\n    case 'richTextUrl':\n      {\n        var _text24 = richText.text;\n        return isEmptyText(_text24);\n      }\n  }\n\n  return false;\n}\nexport function getHorizontalAlignment(align) {\n  if (!align) return null;\n\n  switch (align['@type']) {\n    case 'pageBlockHorizontalAlignmentCenter':\n      {\n        return 'center';\n      }\n\n    case 'pageBlockHorizontalAlignmentLeft':\n      {\n        return 'left';\n      }\n\n    case 'pageBlockHorizontalAlignmentRight':\n      {\n        return 'right';\n      }\n  }\n\n  return null;\n}\nexport function getVerticalAlignment(valign) {\n  if (!valign) return null;\n\n  switch (valign['@type']) {\n    case 'pageBlockVerticalAlignmentBottom':\n      {\n        return 'bottom';\n      }\n\n    case 'pageBlockVerticalAlignmentMiddle':\n      {\n        return 'middle';\n      }\n\n    case 'pageBlockVerticalAlignmentTop':\n      {\n        return 'top';\n      }\n  }\n\n  return null;\n}\nexport function getInnerBlocks(block) {\n  if (!block) return [];\n\n  switch (block['@type']) {\n    case 'pageBlockAnchor':\n      {\n        return [];\n      }\n\n    case 'pageBlockAnimation':\n      {\n        return [block.caption];\n      }\n\n    case 'pageBlockAudio':\n      {\n        return [block.caption];\n      }\n\n    case 'pageBlockAuthorDate':\n      {\n        return [];\n      }\n\n    case 'pageBlockBlockQuote':\n      {\n        return [];\n      }\n\n    case 'pageBlockChatLink':\n      {\n        return [];\n      }\n\n    case 'pageBlockCollage':\n      {\n        var innerBlocks = block.page_blocks.map(function (x) {\n          return [x].concat(_toConsumableArray(getInnerBlocks(x)));\n        });\n        return [].concat.apply([], innerBlocks);\n      }\n\n    case 'pageBlockCover':\n      {\n        return [block.cover];\n      }\n\n    case 'pageBlockDetails':\n      {\n        var _innerBlocks = block.page_blocks.map(function (x) {\n          return [x].concat(_toConsumableArray(getInnerBlocks(x)));\n        });\n\n        return [].concat.apply([], _innerBlocks);\n      }\n\n    case 'pageBlockDivider':\n      {\n        return [];\n      }\n\n    case 'pageBlockEmbedded':\n      {\n        return [block.caption];\n      }\n\n    case 'pageBlockEmbeddedPost':\n      {\n        var _innerBlocks2 = block.page_blocks.map(function (x) {\n          return [x].concat(_toConsumableArray(getInnerBlocks(x)));\n        });\n\n        return [].concat.apply([block.caption], _innerBlocks2);\n      }\n\n    case 'pageBlockFooter':\n      {\n        return [];\n      }\n\n    case 'pageBlockHeader':\n      {\n        return [];\n      }\n\n    case 'pageBlockKicker':\n      {\n        return [];\n      }\n\n    case 'pageBlockList':\n      {\n        var _innerBlocks3 = block.items.map(function (x) {\n          return [x].concat(_toConsumableArray(getInnerBlocks(x)));\n        });\n\n        return [].concat.apply([], _innerBlocks3);\n      }\n\n    case 'pageBlockListItem':\n      {\n        var _innerBlocks4 = block.page_blocks.map(function (x) {\n          return [x].concat(_toConsumableArray(getInnerBlocks(x)));\n        });\n\n        return [].concat.apply([], _innerBlocks4);\n      }\n\n    case 'pageBlockMap':\n      {\n        return [block.caption];\n      }\n\n    case 'pageBlockParagraph':\n      {\n        return [];\n      }\n\n    case 'pageBlockPhoto':\n      {\n        return [block.caption];\n      }\n\n    case 'pageBlockPreformatted':\n      {\n        return [];\n      }\n\n    case 'pageBlockPullQuote':\n      {\n        return [];\n      }\n\n    case 'pageBlockRelatedArticle':\n      {\n        return [];\n      }\n\n    case 'pageBlockRelatedArticles':\n      {\n        return _toConsumableArray(block.articles);\n      }\n\n    case 'pageBlockSlideshow':\n      {\n        var _innerBlocks5 = block.page_blocks.map(function (x) {\n          return [x].concat(_toConsumableArray(getInnerBlocks(x)));\n        });\n\n        return [].concat.apply([block.caption], _innerBlocks5);\n      }\n\n    case 'pageBlockSubheader':\n      {\n        return [];\n      }\n\n    case 'pageBlockSubtitle':\n      {\n        return [];\n      }\n\n    case 'pageBlockTable':\n      {\n        return _toConsumableArray(block.cells);\n      }\n\n    case 'pageBlockTableCell':\n      {\n        return [];\n      }\n\n    case 'pageBlockTitle':\n      {\n        return [];\n      }\n\n    case 'pageBlockVideo':\n      {\n        return [block.caption];\n      }\n  }\n\n  return [];\n}\nexport function getBlockMedia(block) {\n  if (!block) return null;\n\n  switch (block['@type']) {\n    case 'pageBlockAnimation':\n      {\n        return block.animation;\n      }\n\n    case 'pageBlockPhoto':\n      {\n        return block.photo;\n      }\n\n    case 'pageBlockVideo':\n      {\n        return block.video;\n      }\n  }\n\n  return null;\n}\nexport function getBlockCaption(block) {\n  if (!block) return null;\n\n  switch (block['@type']) {\n    case 'pageBlockAnimation':\n      {\n        return block.caption;\n      }\n\n    case 'pageBlockPhoto':\n      {\n        return block.caption;\n      }\n\n    case 'pageBlockVideo':\n      {\n        return block.caption;\n      }\n  }\n\n  return null;\n}\nexport function getBlockUrl(block) {\n  if (!block) return null;\n\n  switch (block['@type']) {\n    case 'pageBlockPhoto':\n      {\n        return block.url;\n      }\n  }\n\n  return null;\n}\nexport function isValidMediaBlock(block) {\n  if (!block) return false;\n\n  switch (block['@type']) {\n    case 'pageBlockAnimation':\n      {\n        return true;\n      }\n\n    case 'pageBlockPhoto':\n      {\n        return true;\n      }\n\n    case 'pageBlockVideo':\n      {\n        return true;\n      }\n  }\n\n  return false;\n}\nexport function getValidMediaBlocks(iv) {\n  if (!iv) return [];\n  var page_blocks = iv.page_blocks;\n  var blocks = [];\n  page_blocks.forEach(function (x) {\n    blocks.push(x);\n    var innerBlocks = getInnerBlocks(x);\n    innerBlocks.forEach(function (i) {\n      blocks.push(i);\n    });\n  });\n  return blocks.filter(isValidMediaBlock);\n}","map":{"version":3,"sources":["/Users/wubenqi/nebula-chat/telegram-react/src/Utils/InstantView.js"],"names":["React","Anchor","Animation","AuthorDate","BlockQuote","Collage","Cover","Details","Divider","Embedded","EmbeddedPost","ErrorHandler","Footer","Header","Kicker","List","ListItem","Paragraph","Photo","Preformatted","PullQuote","RelatedArticle","RelatedArticles","Slideshow","Subheader","Subtitle","Title","Bold","EmailAddress","Fixed","Icon","Italic","Marked","PhoneNumber","Plain","Strikethrough","Subscript","Superscript","TextAnchor","Texts","Underline","Url","Table","TableCell","Map","Audio","ChatLink","Video","download","setInstantViewViewerContent","FileStore","TdLibController","openInstantViewMedia","media","caption","block","instantView","fileCancel","chatId","messageId","file","animation","get","id","local","is_downloading_active","cancelGetRemoteFile","remote","is_uploading_active","cancelUploadFile","updateAnimationBlob","audio","updateAudioBlob","clientUpdate","video","updateVideoBlob","getPageBlock","iv","key","undefined","element","name","need_autoplay","author","publish_date","credit","text","page_blocks","title","photo","username","cover","header","is_open","url","html","poster_photo","width","height","is_full_width","allow_scrolling","author_photo","date","footer","kicker","items","label","location","zoom","language","description","articles","subheader","subtitle","cells","is_bordered","is_striped","is_header","colspan","rowspan","align","valign","is_looped","getRichText","richText","String","email_address","document","phone_number","texts","isEmptyText","every","getHorizontalAlignment","getVerticalAlignment","getInnerBlocks","innerBlocks","map","x","concat","apply","getBlockMedia","getBlockCaption","getBlockUrl","isValidMediaBlock","getValidMediaBlocks","blocks","forEach","push","i","filter"],"mappings":"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","sourcesContent":["/*\n *  Copyright (c) 2018-present, Evgeny Nadymov\n *\n * This source code is licensed under the GPL v.3.0 license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\nimport React from 'react';\nimport Anchor from '../Components/InstantView/Blocks/Anchor';\nimport Animation from '../Components/InstantView/Blocks/Animation';\nimport AuthorDate from '../Components/InstantView/Blocks/AuthorDate';\nimport BlockQuote from '../Components/InstantView/Blocks/Blockquote';\nimport Collage from '../Components/InstantView/Blocks/Collage';\nimport Cover from '../Components/InstantView/Blocks/Cover';\nimport Details from '../Components/InstantView/Blocks/Details';\nimport Divider from '../Components/InstantView/Blocks/Divider';\nimport Embedded from '../Components/InstantView/Blocks/Embedded';\nimport EmbeddedPost from '../Components/InstantView/Blocks/EmbeddedPost';\nimport ErrorHandler from '../Components/InstantView/Blocks/ErrorHandler';\nimport Footer from '../Components/InstantView/Blocks/Footer';\nimport Header from '../Components/InstantView/Blocks/Header';\nimport Kicker from '../Components/InstantView/Blocks/Kicker';\nimport List from '../Components/InstantView/Blocks/List';\nimport ListItem from '../Components/InstantView/Blocks/ListItem';\nimport Paragraph from '../Components/InstantView/Blocks/Paragraph';\nimport Photo from '../Components/InstantView/Blocks/Photo';\nimport Preformatted from '../Components/InstantView/Blocks/Preformatted';\nimport PullQuote from '../Components/InstantView/Blocks/PullQuote';\nimport RelatedArticle from '../Components/InstantView/Blocks/RelatedArticle';\nimport RelatedArticles from '../Components/InstantView/Blocks/RelatedArticles';\nimport Slideshow from '../Components/InstantView/Blocks/Slideshow';\nimport Subheader from '../Components/InstantView/Blocks/Subheader';\nimport Subtitle from '../Components/InstantView/Blocks/Subtitle';\nimport Title from '../Components/InstantView/Blocks/Title';\nimport Bold from '../Components/InstantView/RichText/Bold';\nimport EmailAddress from '../Components/InstantView/RichText/EmailAddress';\nimport Fixed from '../Components/InstantView/RichText/Fixed';\nimport Icon from '../Components/InstantView/RichText/Icon';\nimport Italic from '../Components/InstantView/RichText/Italic';\nimport Marked from '../Components/InstantView/RichText/Marked';\nimport PhoneNumber from '../Components/InstantView/RichText/PhoneNumber';\nimport Plain from '../Components/InstantView/RichText/Plain';\nimport Strikethrough from '../Components/InstantView/RichText/Strikethrough';\nimport Subscript from '../Components/InstantView/RichText/Subscript';\nimport Superscript from '../Components/InstantView/RichText/Superscript';\nimport TextAnchor from '../Components/InstantView/RichText/Anchor';\nimport Texts from '../Components/InstantView/RichText/Texts';\nimport Underline from '../Components/InstantView/RichText/Underline';\nimport Url from '../Components/InstantView/RichText/Url';\nimport Table from '../Components/InstantView/Blocks/Table';\nimport TableCell from '../Components/InstantView/Blocks/TableCell';\nimport Map from '../Components/InstantView/Blocks/Map';\nimport Audio from '../Components/InstantView/Blocks/Audio';\nimport ChatLink from '../Components/InstantView/Blocks/ChatLink';\nimport Video from '../Components/InstantView/Blocks/Video';\nimport { download } from './File';\nimport { setInstantViewViewerContent } from '../Actions/Client';\nimport FileStore from '../Stores/FileStore';\nimport TdLibController from '../Controllers/TdLibController';\n\nexport function openInstantViewMedia(media, caption, block, instantView, fileCancel) {\n    // console.log('[IV] openIVMedia', media);\n\n    if (!media) return;\n\n    const chatId = 0;\n    const messageId = 0;\n\n    switch (media['@type']) {\n        case 'animation': {\n            let { animation: file } = media;\n            if (!file) return;\n\n            file = FileStore.get(file.id) || file;\n            if (fileCancel && file.local.is_downloading_active) {\n                FileStore.cancelGetRemoteFile(file.id, media);\n                return;\n            } else if (fileCancel && file.remote.is_uploading_active) {\n                FileStore.cancelUploadFile(file.id, media);\n                return;\n            } else {\n                download(file, media, FileStore.updateAnimationBlob(chatId, messageId, file.id));\n            }\n\n            setInstantViewViewerContent({\n                media,\n                caption,\n                block,\n                instantView\n            });\n            break;\n        }\n        case 'audio': {\n            let { audio: file } = media;\n            if (!file) return;\n\n            file = FileStore.get(file.id) || file;\n            if (fileCancel && file.local.is_downloading_active) {\n                FileStore.cancelGetRemoteFile(file.id, media);\n                return;\n            } else if (fileCancel && file.remote.is_uploading_active) {\n                FileStore.cancelUploadFile(file.id, media);\n                return;\n            } else {\n                download(file, media, FileStore.updateAudioBlob(chatId, messageId, file.id));\n            }\n\n            TdLibController.clientUpdate({\n                '@type': 'clientUpdateMediaActive',\n                instantView,\n                block\n            });\n            break;\n        }\n        case 'photo': {\n            setInstantViewViewerContent({\n                media,\n                caption,\n                block,\n                instantView\n            });\n            break;\n        }\n        case 'video': {\n            let { video: file } = media;\n            if (!file) return;\n\n            file = FileStore.get(file.id) || file;\n            if (fileCancel && file.local.is_downloading_active) {\n                FileStore.cancelGetRemoteFile(file.id, media);\n                return;\n            } else if (fileCancel && file.remote.is_uploading_active) {\n                FileStore.cancelUploadFile(file.id, media);\n                return;\n            } else {\n                download(file, media, FileStore.updateVideoBlob(chatId, messageId, file.id));\n            }\n\n            setInstantViewViewerContent({\n                media,\n                caption,\n                block,\n                instantView\n            });\n            break;\n        }\n    }\n}\n\nexport function getPageBlock(block, iv, key = undefined) {\n    if (!block) return null;\n\n    let element = null;\n    switch (block['@type']) {\n        case 'pageBlockAnchor': {\n            element = <Anchor name={block.name} />;\n            break;\n        }\n        case 'pageBlockAnimation': {\n            element = (\n                <Animation\n                    block={block}\n                    caption={block.caption}\n                    animation={block.animation}\n                    needAutoplay={block.need_autoplay}\n                    openMedia={() => openInstantViewMedia(block.animation, block.caption, block, iv, true)}\n                />\n            );\n            break;\n        }\n        case 'pageBlockAudio': {\n            element = (\n                <Audio\n                    caption={block.caption}\n                    audio={block.audio}\n                    openMedia={() => openInstantViewMedia(block.audio, block.caption, block, iv, true)}\n                />\n            );\n            break;\n        }\n        case 'pageBlockAuthorDate': {\n            element = <AuthorDate author={block.author} publishDate={block.publish_date} />;\n            break;\n        }\n        case 'pageBlockBlockQuote': {\n            element = <BlockQuote credit={block.credit} text={block.text} />;\n            break;\n        }\n        case 'pageBlockCollage': {\n            element = <Collage pageBlocks={block.page_blocks} caption={block.caption} />;\n            break;\n        }\n        case 'pageBlockChatLink': {\n            element = <ChatLink title={block.title} photo={block.photo} username={block.username} />;\n            break;\n        }\n        case 'pageBlockCover': {\n            element = <Cover cover={block.cover} />;\n            break;\n        }\n        case 'pageBlockDetails': {\n            element = <Details header={block.header} pageBlocks={block.page_blocks} isOpen={block.is_open} />;\n            break;\n        }\n        case 'pageBlockDivider': {\n            element = <Divider />;\n            break;\n        }\n        case 'pageBlockEmbedded': {\n            element = (\n                <Embedded\n                    url={block.url}\n                    html={block.html}\n                    posterPhoto={block.poster_photo}\n                    width={block.width}\n                    height={block.height}\n                    caption={block.caption}\n                    isFullWidth={block.is_full_width}\n                    allowScrolling={block.allow_scrolling}\n                />\n            );\n            break;\n        }\n        case 'pageBlockEmbeddedPost': {\n            element = (\n                <EmbeddedPost\n                    url={block.url}\n                    author={block.author}\n                    authorPhoto={block.author_photo}\n                    date={block.date}\n                    pageBlocks={block.page_blocks}\n                    caption={block.caption}\n                />\n            );\n            break;\n        }\n        case 'pageBlockFooter': {\n            element = <Footer footer={block.footer} />;\n            break;\n        }\n        case 'pageBlockHeader': {\n            element = <Header header={block.header} />;\n            break;\n        }\n        case 'pageBlockKicker': {\n            element = <Kicker kicker={block.kicker} />;\n            break;\n        }\n        case 'pageBlockList': {\n            element = <List items={block.items} />;\n            break;\n        }\n        case 'pageBlockListItem': {\n            element = <ListItem label={block.label} pageBlocks={block.page_blocks} />;\n            break;\n        }\n        case 'pageBlockMap': {\n            element = (\n                <Map\n                    location={block.location}\n                    zoom={block.zoom}\n                    width={block.width}\n                    height={block.height}\n                    caption={block.caption}\n                />\n            );\n            break;\n        }\n        case 'pageBlockParagraph': {\n            element = <Paragraph text={block.text} />;\n            break;\n        }\n        case 'pageBlockPhoto': {\n            element = (\n                <Photo\n                    caption={block.caption}\n                    photo={block.photo}\n                    url={block.url}\n                    openMedia={() => openInstantViewMedia(block.photo, block.caption, block, iv, true)}\n                />\n            );\n            break;\n        }\n        case 'pageBlockPreformatted': {\n            element = <Preformatted text={block.text} language={block.language} />;\n            break;\n        }\n        case 'pageBlockPullQuote': {\n            element = <PullQuote credit={block.credit} text={block.text} />;\n            break;\n        }\n        case 'pageBlockRelatedArticle': {\n            element = (\n                <RelatedArticle\n                    url={block.url}\n                    title={block.title}\n                    description={block.description}\n                    photo={block.photo}\n                    author={block.author}\n                    publishDate={block.publish_date}\n                />\n            );\n            break;\n        }\n        case 'pageBlockRelatedArticles': {\n            element = <RelatedArticles header={block.header} articles={block.articles} />;\n            break;\n        }\n        case 'pageBlockSlideshow': {\n            element = <Slideshow pageBlocks={block.page_blocks} caption={block.caption} />;\n            break;\n        }\n        case 'pageBlockSubheader': {\n            element = <Subheader subheader={block.subheader} />;\n            break;\n        }\n        case 'pageBlockSubtitle': {\n            element = <Subtitle subtitle={block.subtitle} />;\n            break;\n        }\n        case 'pageBlockTable': {\n            element = (\n                <Table\n                    caption={block.caption}\n                    cells={block.cells}\n                    isBordered={block.is_bordered}\n                    isStriped={block.is_striped}\n                />\n            );\n            break;\n        }\n        case 'pageBlockTableCell': {\n            element = (\n                <TableCell\n                    text={block.text}\n                    isHeader={block.is_header}\n                    colspan={block.colspan}\n                    rowspan={block.rowspan}\n                    align={block.align}\n                    valign={block.valign}\n                />\n            );\n            break;\n        }\n        case 'pageBlockTitle': {\n            element = <Title title={block.title} />;\n            break;\n        }\n        case 'pageBlockVideo': {\n            element = (\n                <Video\n                    caption={block.caption}\n                    video={block.video}\n                    needAutoplay={block.need_autoplay}\n                    isLooped={block.is_looped}\n                    openMedia={() => openInstantViewMedia(block.video, block.caption, block, iv, true)}\n                />\n            );\n            break;\n        }\n    }\n\n    if (element) {\n        return <ErrorHandler key={key}>{element}</ErrorHandler>;\n    }\n\n    return <div>{`[${block['@type']}]`}</div>;\n}\n\nexport function getRichText(richText) {\n    if (!richText) {\n        return null;\n    }\n\n    if (richText instanceof String) {\n        return richText;\n    }\n\n    switch (richText['@type']) {\n        case 'richTextAnchor': {\n            const { name, text } = richText;\n\n            return <TextAnchor text={text} name={name} />;\n        }\n        case 'richTextBold': {\n            const { text } = richText;\n\n            return <Bold text={text} />;\n        }\n        case 'richTextEmailAddress': {\n            const { email_address, text } = richText;\n\n            return <EmailAddress emailAddress={email_address} text={text} />;\n        }\n        case 'richTextFixed': {\n            const { text } = richText;\n\n            return <Fixed text={text} />;\n        }\n        case 'richTextIcon': {\n            const { document, height, width } = richText;\n\n            return <Icon document={document} height={height} width={width} />;\n        }\n        case 'richTextItalic': {\n            const { text } = richText;\n\n            return <Italic text={text} />;\n        }\n        case 'richTextMarked': {\n            const { text } = richText;\n\n            return <Marked text={text} />;\n        }\n        case 'richTextPhoneNumber': {\n            const { phone_number, text } = richText;\n\n            return <PhoneNumber phoneNumber={phone_number} text={text} />;\n        }\n        case 'richTextPlain': {\n            const { text } = richText;\n\n            return <Plain text={text} />;\n        }\n        case 'richTextStrikethrough': {\n            const { text } = richText;\n\n            return <Strikethrough text={text} />;\n        }\n        case 'richTextSubscript': {\n            const { text } = richText;\n\n            return <Subscript text={text} />;\n        }\n        case 'richTextSuperscript': {\n            const { text } = richText;\n\n            return <Superscript text={text} />;\n        }\n        case 'richTexts': {\n            const { texts } = richText;\n\n            return <Texts texts={texts} />;\n        }\n        case 'richTextUnderline': {\n            const { text } = richText;\n\n            return <Underline text={text} />;\n        }\n        case 'richTextUrl': {\n            const { text, url } = richText;\n\n            return <Url text={text} url={url} />;\n        }\n    }\n\n    return `[${richText['@type']}]`;\n}\n\nexport function isEmptyText(richText) {\n    if (!richText) return true;\n\n    switch (richText['@type']) {\n        case 'richTextAnchor': {\n            const { text } = richText;\n\n            return isEmptyText(text);\n        }\n        case 'richTextBold': {\n            const { text } = richText;\n\n            return isEmptyText(text);\n        }\n        case 'richTextEmailAddress': {\n            const { text } = richText;\n\n            return isEmptyText(text);\n        }\n        case 'richTextFixed': {\n            const { text } = richText;\n\n            return isEmptyText(text);\n        }\n        case 'richTextIcon': {\n            return false;\n        }\n        case 'richTextItalic': {\n            const { text } = richText;\n\n            return isEmptyText(text);\n        }\n        case 'richTextMarked': {\n            const { text } = richText;\n\n            return isEmptyText(text);\n        }\n        case 'richTextPhoneNumber': {\n            const { text } = richText;\n\n            return isEmptyText(text);\n        }\n        case 'richTextPlain': {\n            const { text } = richText;\n\n            return isEmptyText(text);\n        }\n        case 'richTextStrikethrough': {\n            const { text } = richText;\n\n            return isEmptyText(text);\n        }\n        case 'richTextSubscript': {\n            const { text } = richText;\n\n            return isEmptyText(text);\n        }\n        case 'richTextSuperscript': {\n            const { text } = richText;\n\n            return isEmptyText(text);\n        }\n        case 'richTexts': {\n            const { texts } = richText;\n\n            return texts.every(isEmptyText);\n        }\n        case 'richTextUnderline': {\n            const { text } = richText;\n\n            return isEmptyText(text);\n        }\n        case 'richTextUrl': {\n            const { text } = richText;\n\n            return isEmptyText(text);\n        }\n    }\n\n    return false;\n}\n\nexport function getHorizontalAlignment(align) {\n    if (!align) return null;\n\n    switch (align['@type']) {\n        case 'pageBlockHorizontalAlignmentCenter': {\n            return 'center';\n        }\n        case 'pageBlockHorizontalAlignmentLeft': {\n            return 'left';\n        }\n        case 'pageBlockHorizontalAlignmentRight': {\n            return 'right';\n        }\n    }\n\n    return null;\n}\n\nexport function getVerticalAlignment(valign) {\n    if (!valign) return null;\n\n    switch (valign['@type']) {\n        case 'pageBlockVerticalAlignmentBottom': {\n            return 'bottom';\n        }\n        case 'pageBlockVerticalAlignmentMiddle': {\n            return 'middle';\n        }\n        case 'pageBlockVerticalAlignmentTop': {\n            return 'top';\n        }\n    }\n\n    return null;\n}\n\nexport function getInnerBlocks(block) {\n    if (!block) return [];\n\n    switch (block['@type']) {\n        case 'pageBlockAnchor': {\n            return [];\n        }\n        case 'pageBlockAnimation': {\n            return [block.caption];\n        }\n        case 'pageBlockAudio': {\n            return [block.caption];\n        }\n        case 'pageBlockAuthorDate': {\n            return [];\n        }\n        case 'pageBlockBlockQuote': {\n            return [];\n        }\n        case 'pageBlockChatLink': {\n            return [];\n        }\n        case 'pageBlockCollage': {\n            const innerBlocks = block.page_blocks.map(x => [x, ...getInnerBlocks(x)]);\n\n            return [].concat.apply([], innerBlocks);\n        }\n        case 'pageBlockCover': {\n            return [block.cover];\n        }\n        case 'pageBlockDetails': {\n            const innerBlocks = block.page_blocks.map(x => [x, ...getInnerBlocks(x)]);\n\n            return [].concat.apply([], innerBlocks);\n        }\n        case 'pageBlockDivider': {\n            return [];\n        }\n        case 'pageBlockEmbedded': {\n            return [block.caption];\n        }\n        case 'pageBlockEmbeddedPost': {\n            const innerBlocks = block.page_blocks.map(x => [x, ...getInnerBlocks(x)]);\n\n            return [].concat.apply([block.caption], innerBlocks);\n        }\n        case 'pageBlockFooter': {\n            return [];\n        }\n        case 'pageBlockHeader': {\n            return [];\n        }\n        case 'pageBlockKicker': {\n            return [];\n        }\n        case 'pageBlockList': {\n            const innerBlocks = block.items.map(x => [x, ...getInnerBlocks(x)]);\n\n            return [].concat.apply([], innerBlocks);\n        }\n        case 'pageBlockListItem': {\n            const innerBlocks = block.page_blocks.map(x => [x, ...getInnerBlocks(x)]);\n\n            return [].concat.apply([], innerBlocks);\n        }\n        case 'pageBlockMap': {\n            return [block.caption];\n        }\n        case 'pageBlockParagraph': {\n            return [];\n        }\n        case 'pageBlockPhoto': {\n            return [block.caption];\n        }\n        case 'pageBlockPreformatted': {\n            return [];\n        }\n        case 'pageBlockPullQuote': {\n            return [];\n        }\n        case 'pageBlockRelatedArticle': {\n            return [];\n        }\n        case 'pageBlockRelatedArticles': {\n            return [...block.articles];\n        }\n        case 'pageBlockSlideshow': {\n            const innerBlocks = block.page_blocks.map(x => [x, ...getInnerBlocks(x)]);\n\n            return [].concat.apply([block.caption], innerBlocks);\n        }\n        case 'pageBlockSubheader': {\n            return [];\n        }\n        case 'pageBlockSubtitle': {\n            return [];\n        }\n        case 'pageBlockTable': {\n            return [...block.cells];\n        }\n        case 'pageBlockTableCell': {\n            return [];\n        }\n        case 'pageBlockTitle': {\n            return [];\n        }\n        case 'pageBlockVideo': {\n            return [block.caption];\n        }\n    }\n\n    return [];\n}\n\nexport function getBlockMedia(block) {\n    if (!block) return null;\n\n    switch (block['@type']) {\n        case 'pageBlockAnimation': {\n            return block.animation;\n        }\n        case 'pageBlockPhoto': {\n            return block.photo;\n        }\n        case 'pageBlockVideo': {\n            return block.video;\n        }\n    }\n\n    return null;\n}\n\nexport function getBlockCaption(block) {\n    if (!block) return null;\n\n    switch (block['@type']) {\n        case 'pageBlockAnimation': {\n            return block.caption;\n        }\n        case 'pageBlockPhoto': {\n            return block.caption;\n        }\n        case 'pageBlockVideo': {\n            return block.caption;\n        }\n    }\n\n    return null;\n}\n\nexport function getBlockUrl(block) {\n    if (!block) return null;\n\n    switch (block['@type']) {\n        case 'pageBlockPhoto': {\n            return block.url;\n        }\n    }\n\n    return null;\n}\n\nexport function isValidMediaBlock(block) {\n    if (!block) return false;\n\n    switch (block['@type']) {\n        case 'pageBlockAnimation': {\n            return true;\n        }\n        case 'pageBlockPhoto': {\n            return true;\n        }\n        case 'pageBlockVideo': {\n            return true;\n        }\n    }\n\n    return false;\n}\n\nexport function getValidMediaBlocks(iv) {\n    if (!iv) return [];\n\n    const { page_blocks } = iv;\n\n    const blocks = [];\n    page_blocks.forEach(x => {\n        blocks.push(x);\n        const innerBlocks = getInnerBlocks(x);\n        innerBlocks.forEach(i => {\n            blocks.push(i);\n        });\n    });\n\n    return blocks.filter(isValidMediaBlock);\n}\n"]},"metadata":{},"sourceType":"module"}