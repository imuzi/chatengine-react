{"ast":null,"code":"/*\n *  Copyright (c) 2018-present, Evgeny Nadymov\n *\n * This source code is licensed under the GPL v.3.0 license found in the\n * LICENSE file in the root directory of this source tree.\n */\nimport ChatStore from '../Stores/ChatStore';\nimport { orderCompare } from './Common';\nexport function getArchiveTitle() {\n  var archive = ChatStore.chatList.get('chatListArchive');\n  var chats = [];\n  var chatsOrder = [];\n\n  if (archive) {\n    var _iteratorNormalCompletion = true;\n    var _didIteratorError = false;\n    var _iteratorError = undefined;\n\n    try {\n      for (var _iterator = archive.keys()[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n        var chatId = _step.value;\n        var chat = ChatStore.get(chatId);\n\n        if (chat) {\n          if (chat.order !== '0') chats.push(chat);\n          chatsOrder.push({\n            order: chat.order,\n            id: chat.id,\n            title: chat.title\n          });\n        }\n      }\n    } catch (err) {\n      _didIteratorError = true;\n      _iteratorError = err;\n    } finally {\n      try {\n        if (!_iteratorNormalCompletion && _iterator.return != null) {\n          _iterator.return();\n        }\n      } finally {\n        if (_didIteratorError) {\n          throw _iteratorError;\n        }\n      }\n    }\n  }\n\n  var orderedChats = chats.sort(function (a, b) {\n    return orderCompare(b.order, a.order);\n  });\n  return orderedChats.map(function (x) {\n    return x.title;\n  }).join(', ');\n}","map":{"version":3,"sources":["/Users/wubenqi/nebula-chat/telegram-react/src/Utils/Archive.js"],"names":["ChatStore","orderCompare","getArchiveTitle","archive","chatList","get","chats","chatsOrder","keys","chatId","chat","order","push","id","title","orderedChats","sort","a","b","map","x","join"],"mappings":"AAAA;;;;;;AAMA,OAAOA,SAAP,MAAsB,qBAAtB;AACA,SAASC,YAAT,QAA6B,UAA7B;AAEA,OAAO,SAASC,eAAT,GAA2B;AAC9B,MAAMC,OAAO,GAAGH,SAAS,CAACI,QAAV,CAAmBC,GAAnB,CAAuB,iBAAvB,CAAhB;AACA,MAAMC,KAAK,GAAG,EAAd;AACA,MAAMC,UAAU,GAAG,EAAnB;;AACA,MAAIJ,OAAJ,EAAa;AAAA;AAAA;AAAA;;AAAA;AACT,2BAAqBA,OAAO,CAACK,IAAR,EAArB,8HAAqC;AAAA,YAA1BC,MAA0B;AACjC,YAAMC,IAAI,GAAGV,SAAS,CAACK,GAAV,CAAcI,MAAd,CAAb;;AACA,YAAIC,IAAJ,EAAU;AACN,cAAIA,IAAI,CAACC,KAAL,KAAe,GAAnB,EAAwBL,KAAK,CAACM,IAAN,CAAWF,IAAX;AACxBH,UAAAA,UAAU,CAACK,IAAX,CAAgB;AAAED,YAAAA,KAAK,EAAED,IAAI,CAACC,KAAd;AAAqBE,YAAAA,EAAE,EAAEH,IAAI,CAACG,EAA9B;AAAkCC,YAAAA,KAAK,EAAEJ,IAAI,CAACI;AAA9C,WAAhB;AACH;AACJ;AAPQ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAQZ;;AAED,MAAMC,YAAY,GAAGT,KAAK,CAACU,IAAN,CAAW,UAACC,CAAD,EAAIC,CAAJ;AAAA,WAAUjB,YAAY,CAACiB,CAAC,CAACP,KAAH,EAAUM,CAAC,CAACN,KAAZ,CAAtB;AAAA,GAAX,CAArB;AAEA,SAAOI,YAAY,CAACI,GAAb,CAAiB,UAAAC,CAAC;AAAA,WAAIA,CAAC,CAACN,KAAN;AAAA,GAAlB,EAA+BO,IAA/B,CAAoC,IAApC,CAAP;AACH","sourcesContent":["/*\n *  Copyright (c) 2018-present, Evgeny Nadymov\n *\n * This source code is licensed under the GPL v.3.0 license found in the\n * LICENSE file in the root directory of this source tree.\n */\nimport ChatStore from '../Stores/ChatStore';\nimport { orderCompare } from './Common';\n\nexport function getArchiveTitle() {\n    const archive = ChatStore.chatList.get('chatListArchive');\n    const chats = [];\n    const chatsOrder = [];\n    if (archive) {\n        for (const chatId of archive.keys()) {\n            const chat = ChatStore.get(chatId);\n            if (chat) {\n                if (chat.order !== '0') chats.push(chat);\n                chatsOrder.push({ order: chat.order, id: chat.id, title: chat.title });\n            }\n        }\n    }\n\n    const orderedChats = chats.sort((a, b) => orderCompare(b.order, a.order));\n\n    return orderedChats.map(x => x.title).join(', ');\n}\n"]},"metadata":{},"sourceType":"module"}