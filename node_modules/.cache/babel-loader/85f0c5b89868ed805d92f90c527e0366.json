{"ast":null,"code":"/*\n *  Copyright (c) 2018-present, Evgeny Nadymov\n *\n * This source code is licensed under the GPL v.3.0 license found in the\n * LICENSE file in the root directory of this source tree.\n */\nimport ChatStore from '../Stores/ChatStore';\n\nfunction getBasicGroupStatus(basicGroup, chatId) {\n  if (!basicGroup) return null;\n  var status = basicGroup.status,\n      count = basicGroup.member_count;\n\n  if (status && (status['@type'] === 'chatMemberStatusBanned' || status['@type'] === 'chatMemberStatusLeft' || status['@type'] === 'chatMemberStatusCreator' && !status.is_member)) {\n    return 'group is inaccessible';\n  }\n\n  if (!count) return '0 members';\n  if (count === 1) return '1 member';\n  var onlineCount = ChatStore.getOnlineMemberCount(chatId);\n\n  if (onlineCount > 1) {\n    return \"\".concat(count, \" members, \").concat(onlineCount, \" online\");\n  }\n\n  return \"\".concat(count, \" members\");\n}\n\nexport { getBasicGroupStatus };","map":{"version":3,"sources":["/Users/wubenqi/nebula-chat/telegram-react/src/Utils/BasicGroup.js"],"names":["ChatStore","getBasicGroupStatus","basicGroup","chatId","status","count","member_count","is_member","onlineCount","getOnlineMemberCount"],"mappings":"AAAA;;;;;;AAOA,OAAOA,SAAP,MAAsB,qBAAtB;;AAEA,SAASC,mBAAT,CAA6BC,UAA7B,EAAyCC,MAAzC,EAAiD;AAC7C,MAAI,CAACD,UAAL,EAAiB,OAAO,IAAP;AAD4B,MAGrCE,MAHqC,GAGLF,UAHK,CAGrCE,MAHqC;AAAA,MAGfC,KAHe,GAGLH,UAHK,CAG7BI,YAH6B;;AAK7C,MACIF,MAAM,KACLA,MAAM,CAAC,OAAD,CAAN,KAAoB,wBAApB,IACGA,MAAM,CAAC,OAAD,CAAN,KAAoB,sBADvB,IAEIA,MAAM,CAAC,OAAD,CAAN,KAAoB,yBAApB,IAAiD,CAACA,MAAM,CAACG,SAHxD,CADV,EAKE;AACE,WAAO,uBAAP;AACH;;AAED,MAAI,CAACF,KAAL,EAAY,OAAO,WAAP;AACZ,MAAIA,KAAK,KAAK,CAAd,EAAiB,OAAO,UAAP;AAEjB,MAAMG,WAAW,GAAGR,SAAS,CAACS,oBAAV,CAA+BN,MAA/B,CAApB;;AACA,MAAIK,WAAW,GAAG,CAAlB,EAAqB;AACjB,qBAAUH,KAAV,uBAA4BG,WAA5B;AACH;;AAED,mBAAUH,KAAV;AACH;;AAED,SAASJ,mBAAT","sourcesContent":["/*\n *  Copyright (c) 2018-present, Evgeny Nadymov\n *\n * This source code is licensed under the GPL v.3.0 license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\nimport ChatStore from '../Stores/ChatStore';\n\nfunction getBasicGroupStatus(basicGroup, chatId) {\n    if (!basicGroup) return null;\n\n    const { status, member_count: count } = basicGroup;\n\n    if (\n        status &&\n        (status['@type'] === 'chatMemberStatusBanned' ||\n            status['@type'] === 'chatMemberStatusLeft' ||\n            (status['@type'] === 'chatMemberStatusCreator' && !status.is_member))\n    ) {\n        return 'group is inaccessible';\n    }\n\n    if (!count) return '0 members';\n    if (count === 1) return '1 member';\n\n    const onlineCount = ChatStore.getOnlineMemberCount(chatId);\n    if (onlineCount > 1) {\n        return `${count} members, ${onlineCount} online`;\n    }\n\n    return `${count} members`;\n}\n\nexport { getBasicGroupStatus };\n"]},"metadata":{},"sourceType":"module"}