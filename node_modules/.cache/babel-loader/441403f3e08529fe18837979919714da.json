{"ast":null,"code":"import _classCallCheck from \"/Users/wubenqi/nebula-chat/telegram-react/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/wubenqi/nebula-chat/telegram-react/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/wubenqi/nebula-chat/telegram-react/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/wubenqi/nebula-chat/telegram-react/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/wubenqi/nebula-chat/telegram-react/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/Users/wubenqi/nebula-chat/telegram-react/src/Components/ColumnLeft/SidebarPage.js\";\n\n/*\n *  Copyright (c) 2018-present, Evgeny Nadymov\n *\n * This source code is licensed under the GPL v.3.0 license found in the\n * LICENSE file in the root directory of this source tree.\n */\nimport React from 'react';\nimport PropTypes, { number } from 'prop-types';\nimport { Slide } from '@material-ui/core';\nimport KeyboardManager, { KeyboardHandler } from '../Additional/KeyboardManager';\nimport './SidebarPage.css';\n\nvar SidebarPage =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(SidebarPage, _React$Component);\n\n  function SidebarPage(props) {\n    var _this;\n\n    _classCallCheck(this, SidebarPage);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(SidebarPage).call(this, props));\n\n    _this.handleKeyDown = function (event) {\n      event.preventDefault();\n      event.stopPropagation();\n      event.target.blur();\n\n      switch (event.key) {\n        case 'Escape':\n          var onClose = _this.props.onClose;\n          if (onClose) onClose();\n          break;\n      }\n    };\n\n    _this.keyboardHandler = new KeyboardHandler(_this.handleKeyDown);\n    return _this;\n  }\n\n  _createClass(SidebarPage, [{\n    key: \"componentDidUpdate\",\n    value: function componentDidUpdate(prevProps, prevState, snapshot) {\n      var open = this.props.open;\n\n      if (prevProps.open !== open) {\n        if (open) {\n          KeyboardManager.add(this.keyboardHandler);\n        } else {\n          KeyboardManager.remove(this.keyboardHandler);\n        }\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this$props = this.props,\n          children = _this$props.children,\n          open = _this$props.open,\n          timeout = _this$props.timeout,\n          onClose = _this$props.onClose;\n      return React.createElement(Slide, {\n        direction: \"right\",\n        in: open,\n        timeout: timeout,\n        mountOnEnter: true,\n        unmountOnExit: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 50\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"sidebar-page\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 51\n        },\n        __self: this\n      }, onClose ? React.cloneElement(children, {\n        onClose: onClose\n      }) : children));\n    }\n  }]);\n\n  return SidebarPage;\n}(React.Component);\n\nSidebarPage.propTypes = {\n  open: PropTypes.bool.isRequired,\n  timeout: PropTypes.object,\n  onClose: PropTypes.func\n};\nexport default SidebarPage;","map":{"version":3,"sources":["/Users/wubenqi/nebula-chat/telegram-react/src/Components/ColumnLeft/SidebarPage.js"],"names":["React","PropTypes","number","Slide","KeyboardManager","KeyboardHandler","SidebarPage","props","handleKeyDown","event","preventDefault","stopPropagation","target","blur","key","onClose","keyboardHandler","prevProps","prevState","snapshot","open","add","remove","children","timeout","cloneElement","Component","propTypes","bool","isRequired","object","func"],"mappings":";;;;;;;AAAA;;;;;;AAOA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,SAAP,IAAoBC,MAApB,QAAkC,YAAlC;AACA,SAASC,KAAT,QAAsB,mBAAtB;AACA,OAAOC,eAAP,IAA0BC,eAA1B,QAAiD,+BAAjD;AACA,OAAO,mBAAP;;IAEMC,W;;;;;AACF,uBAAYC,KAAZ,EAAmB;AAAA;;AAAA;;AACf,qFAAMA,KAAN;;AADe,UAMnBC,aANmB,GAMH,UAAAC,KAAK,EAAI;AACrBA,MAAAA,KAAK,CAACC,cAAN;AACAD,MAAAA,KAAK,CAACE,eAAN;AACAF,MAAAA,KAAK,CAACG,MAAN,CAAaC,IAAb;;AAEA,cAAQJ,KAAK,CAACK,GAAd;AACI,aAAK,QAAL;AAAA,cACYC,OADZ,GACwB,MAAKR,KAD7B,CACYQ,OADZ;AAEI,cAAIA,OAAJ,EAAaA,OAAO;AACpB;AAJR;AAMH,KAjBkB;;AAGf,UAAKC,eAAL,GAAuB,IAAIX,eAAJ,CAAoB,MAAKG,aAAzB,CAAvB;AAHe;AAIlB;;;;uCAekBS,S,EAAWC,S,EAAWC,Q,EAAU;AAAA,UACvCC,IADuC,GAC9B,KAAKb,KADyB,CACvCa,IADuC;;AAG/C,UAAIH,SAAS,CAACG,IAAV,KAAmBA,IAAvB,EAA6B;AACzB,YAAIA,IAAJ,EAAU;AACNhB,UAAAA,eAAe,CAACiB,GAAhB,CAAoB,KAAKL,eAAzB;AACH,SAFD,MAEO;AACHZ,UAAAA,eAAe,CAACkB,MAAhB,CAAuB,KAAKN,eAA5B;AACH;AACJ;AACJ;;;6BAEQ;AAAA,wBACwC,KAAKT,KAD7C;AAAA,UACGgB,QADH,eACGA,QADH;AAAA,UACaH,IADb,eACaA,IADb;AAAA,UACmBI,OADnB,eACmBA,OADnB;AAAA,UAC4BT,OAD5B,eAC4BA,OAD5B;AAGL,aACI,oBAAC,KAAD;AAAO,QAAA,SAAS,EAAC,OAAjB;AAAyB,QAAA,EAAE,EAAEK,IAA7B;AAAmC,QAAA,OAAO,EAAEI,OAA5C;AAAqD,QAAA,YAAY,MAAjE;AAAkE,QAAA,aAAa,MAA/E;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACI;AAAK,QAAA,SAAS,EAAC,cAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAA+BT,OAAO,GAAGf,KAAK,CAACyB,YAAN,CAAmBF,QAAnB,EAA6B;AAAER,QAAAA,OAAO,EAAPA;AAAF,OAA7B,CAAH,GAA+CQ,QAArF,CADJ,CADJ;AAKH;;;;EAxCqBvB,KAAK,CAAC0B,S;;AA2ChCpB,WAAW,CAACqB,SAAZ,GAAwB;AACpBP,EAAAA,IAAI,EAAEnB,SAAS,CAAC2B,IAAV,CAAeC,UADD;AAEpBL,EAAAA,OAAO,EAAEvB,SAAS,CAAC6B,MAFC;AAGpBf,EAAAA,OAAO,EAAEd,SAAS,CAAC8B;AAHC,CAAxB;AAMA,eAAezB,WAAf","sourcesContent":["/*\n *  Copyright (c) 2018-present, Evgeny Nadymov\n *\n * This source code is licensed under the GPL v.3.0 license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\nimport React from 'react';\nimport PropTypes, { number } from 'prop-types';\nimport { Slide } from '@material-ui/core';\nimport KeyboardManager, { KeyboardHandler } from '../Additional/KeyboardManager';\nimport './SidebarPage.css';\n\nclass SidebarPage extends React.Component {\n    constructor(props) {\n        super(props);\n\n        this.keyboardHandler = new KeyboardHandler(this.handleKeyDown);\n    }\n\n    handleKeyDown = event => {\n        event.preventDefault();\n        event.stopPropagation();\n        event.target.blur();\n\n        switch (event.key) {\n            case 'Escape':\n                const { onClose } = this.props;\n                if (onClose) onClose();\n                break;\n        }\n    };\n\n    componentDidUpdate(prevProps, prevState, snapshot) {\n        const { open } = this.props;\n\n        if (prevProps.open !== open) {\n            if (open) {\n                KeyboardManager.add(this.keyboardHandler);\n            } else {\n                KeyboardManager.remove(this.keyboardHandler);\n            }\n        }\n    }\n\n    render() {\n        const { children, open, timeout, onClose } = this.props;\n\n        return (\n            <Slide direction='right' in={open} timeout={timeout} mountOnEnter unmountOnExit>\n                <div className='sidebar-page'>{onClose ? React.cloneElement(children, { onClose }) : children}</div>\n            </Slide>\n        );\n    }\n}\n\nSidebarPage.propTypes = {\n    open: PropTypes.bool.isRequired,\n    timeout: PropTypes.object,\n    onClose: PropTypes.func\n};\n\nexport default SidebarPage;\n"]},"metadata":{},"sourceType":"module"}