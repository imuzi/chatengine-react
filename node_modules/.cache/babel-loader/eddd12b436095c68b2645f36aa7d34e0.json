{"ast":null,"code":"/*\n *  Copyright (c) 2018-present, Evgeny Nadymov\n *\n * This source code is licensed under the GPL v.3.0 license found in the\n * LICENSE file in the root directory of this source tree.\n */\nexport function focusNode(node) {\n  var toEnd = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n  if (!node) return;\n\n  if (toEnd && node.childNodes && node.childNodes.length > 0) {\n    var lastNode = node.childNodes[node.childNodes.length - 1];\n    var range = document.createRange();\n    range.setStart(lastNode, lastNode.length);\n    range.collapse(true);\n    var selection = window.getSelection();\n    selection.removeAllRanges();\n    selection.addRange(range);\n    node.scrollTop = node.scrollHeight;\n  }\n\n  node.focus();\n}","map":{"version":3,"sources":["/Users/wubenqi/nebula-chat/telegram-react/src/Utils/Component.js"],"names":["focusNode","node","toEnd","childNodes","length","lastNode","range","document","createRange","setStart","collapse","selection","window","getSelection","removeAllRanges","addRange","scrollTop","scrollHeight","focus"],"mappings":"AAAA;;;;;;AAMA,OAAO,SAASA,SAAT,CAAmBC,IAAnB,EAAwC;AAAA,MAAfC,KAAe,uEAAP,KAAO;AAC3C,MAAI,CAACD,IAAL,EAAW;;AAEX,MAAIC,KAAK,IAAID,IAAI,CAACE,UAAd,IAA4BF,IAAI,CAACE,UAAL,CAAgBC,MAAhB,GAAyB,CAAzD,EAA4D;AACxD,QAAMC,QAAQ,GAAGJ,IAAI,CAACE,UAAL,CAAgBF,IAAI,CAACE,UAAL,CAAgBC,MAAhB,GAAyB,CAAzC,CAAjB;AACA,QAAME,KAAK,GAAGC,QAAQ,CAACC,WAAT,EAAd;AACAF,IAAAA,KAAK,CAACG,QAAN,CAAeJ,QAAf,EAAyBA,QAAQ,CAACD,MAAlC;AACAE,IAAAA,KAAK,CAACI,QAAN,CAAe,IAAf;AAEA,QAAMC,SAAS,GAAGC,MAAM,CAACC,YAAP,EAAlB;AACAF,IAAAA,SAAS,CAACG,eAAV;AACAH,IAAAA,SAAS,CAACI,QAAV,CAAmBT,KAAnB;AAEAL,IAAAA,IAAI,CAACe,SAAL,GAAiBf,IAAI,CAACgB,YAAtB;AACH;;AAEDhB,EAAAA,IAAI,CAACiB,KAAL;AACH","sourcesContent":["/*\n *  Copyright (c) 2018-present, Evgeny Nadymov\n *\n * This source code is licensed under the GPL v.3.0 license found in the\n * LICENSE file in the root directory of this source tree.\n */\nexport function focusNode(node, toEnd = false) {\n    if (!node) return;\n\n    if (toEnd && node.childNodes && node.childNodes.length > 0) {\n        const lastNode = node.childNodes[node.childNodes.length - 1];\n        const range = document.createRange();\n        range.setStart(lastNode, lastNode.length);\n        range.collapse(true);\n\n        const selection = window.getSelection();\n        selection.removeAllRanges();\n        selection.addRange(range);\n\n        node.scrollTop = node.scrollHeight;\n    }\n\n    node.focus();\n}\n"]},"metadata":{},"sourceType":"module"}