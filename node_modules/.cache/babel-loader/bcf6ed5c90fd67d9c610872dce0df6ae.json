{"ast":null,"code":"import _regeneratorRuntime from \"/Users/wubenqi/nebula-chat/telegram-react/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"/Users/wubenqi/nebula-chat/telegram-react/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _classCallCheck from \"/Users/wubenqi/nebula-chat/telegram-react/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/wubenqi/nebula-chat/telegram-react/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\n\n/*\n *  Copyright (c) 2018-present, Evgeny Nadymov\n *\n * This source code is licensed under the GPL v.3.0 license found in the\n * LICENSE file in the root directory of this source tree.\n */\nvar CacheManager =\n/*#__PURE__*/\nfunction () {\n  function CacheManager() {\n    _classCallCheck(this, CacheManager);\n  }\n\n  _createClass(CacheManager, [{\n    key: \"load\",\n    value: function () {\n      var _load = _asyncToGenerator(\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee(key) {\n        var value;\n        return _regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                value = localStorage.getItem(key);\n\n                if (value) {\n                  _context.next = 3;\n                  break;\n                }\n\n                return _context.abrupt(\"return\", null);\n\n              case 3:\n                _context.prev = 3;\n                return _context.abrupt(\"return\", JSON.parse(value));\n\n              case 7:\n                _context.prev = 7;\n                _context.t0 = _context[\"catch\"](3);\n                return _context.abrupt(\"return\", null);\n\n              case 10:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, null, [[3, 7]]);\n      }));\n\n      function load(_x) {\n        return _load.apply(this, arguments);\n      }\n\n      return load;\n    }()\n  }, {\n    key: \"save\",\n    value: function () {\n      var _save = _asyncToGenerator(\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee2(key, value) {\n        return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                localStorage.setItem(key, JSON.stringify(value));\n\n              case 1:\n              case \"end\":\n                return _context2.stop();\n            }\n          }\n        }, _callee2);\n      }));\n\n      function save(_x2, _x3) {\n        return _save.apply(this, arguments);\n      }\n\n      return save;\n    }()\n  }, {\n    key: \"remove\",\n    value: function () {\n      var _remove = _asyncToGenerator(\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee3(key) {\n        return _regeneratorRuntime.wrap(function _callee3$(_context3) {\n          while (1) {\n            switch (_context3.prev = _context3.next) {\n              case 0:\n                localStorage.removeItem(key);\n\n              case 1:\n              case \"end\":\n                return _context3.stop();\n            }\n          }\n        }, _callee3);\n      }));\n\n      function remove(_x4) {\n        return _remove.apply(this, arguments);\n      }\n\n      return remove;\n    }()\n  }, {\n    key: \"clear\",\n    value: function () {\n      var _clear = _asyncToGenerator(\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee4() {\n        return _regeneratorRuntime.wrap(function _callee4$(_context4) {\n          while (1) {\n            switch (_context4.prev = _context4.next) {\n              case 0:\n                localStorage.clear();\n\n              case 1:\n              case \"end\":\n                return _context4.stop();\n            }\n          }\n        }, _callee4);\n      }));\n\n      function clear() {\n        return _clear.apply(this, arguments);\n      }\n\n      return clear;\n    }()\n  }]);\n\n  return CacheManager;\n}();\n\nvar manager = new CacheManager();\nexport default manager;","map":{"version":3,"sources":["/Users/wubenqi/nebula-chat/telegram-react/src/Workers/CacheManager.js"],"names":["CacheManager","key","value","localStorage","getItem","JSON","parse","setItem","stringify","removeItem","clear","manager"],"mappings":";;;;;AAAA;;;;;;IAOMA,Y;;;;;;;;;;;;gDACSC,G;;;;;;AACDC,gBAAAA,K,GAAQC,YAAY,CAACC,OAAb,CAAqBH,GAArB,C;;oBACTC,K;;;;;iDAAc,I;;;;iDAGRG,IAAI,CAACC,KAAL,CAAWJ,KAAX,C;;;;;iDAEA,I;;;;;;;;;;;;;;;;;;;;;iDAIJD,G,EAAKC,K;;;;;AACZC,gBAAAA,YAAY,CAACI,OAAb,CAAqBN,GAArB,EAA0BI,IAAI,CAACG,SAAL,CAAeN,KAAf,CAA1B;;;;;;;;;;;;;;;;;;;;;iDAGSD,G;;;;;AACTE,gBAAAA,YAAY,CAACM,UAAb,CAAwBR,GAAxB;;;;;;;;;;;;;;;;;;;;;;;;;;AAIAE,gBAAAA,YAAY,CAACO,KAAb;;;;;;;;;;;;;;;;;;;;;AAIR,IAAMC,OAAO,GAAG,IAAIX,YAAJ,EAAhB;AACA,eAAeW,OAAf","sourcesContent":["/*\n *  Copyright (c) 2018-present, Evgeny Nadymov\n *\n * This source code is licensed under the GPL v.3.0 license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\nclass CacheManager {\n    async load(key) {\n        const value = localStorage.getItem(key);\n        if (!value) return null;\n\n        try {\n            return JSON.parse(value);\n        } catch {\n            return null;\n        }\n    }\n\n    async save(key, value) {\n        localStorage.setItem(key, JSON.stringify(value));\n    }\n\n    async remove(key) {\n        localStorage.removeItem(key);\n    }\n\n    async clear() {\n        localStorage.clear();\n    }\n}\n\nconst manager = new CacheManager();\nexport default manager;\n"]},"metadata":{},"sourceType":"module"}